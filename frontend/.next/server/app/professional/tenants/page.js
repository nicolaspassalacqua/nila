(()=>{var e={};e.id=234,e.ids=[234],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4753:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=n(260),r=n(8203),a=n(5155),i=n.n(a),o=n(7292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);n.d(t,l);let d=["",{children:["professional",{children:["tenants",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,5930)),"/app/app/professional/tenants/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(n.bind(n,9611)),"/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(n.t.bind(n,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(n.t.bind(n,1485,23)),"next/dist/client/components/unauthorized-error"]}],c=["/app/app/professional/tenants/page.tsx"],u={require:n,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/professional/tenants/page",pathname:"/professional/tenants",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1858:()=>{},6362:()=>{},7505:(e,t,n)=>{Promise.resolve().then(n.bind(n,5930))},3953:(e,t,n)=>{Promise.resolve().then(n.bind(n,7350))},8335:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,3219,23)),Promise.resolve().then(n.t.bind(n,4863,23)),Promise.resolve().then(n.t.bind(n,5155,23)),Promise.resolve().then(n.t.bind(n,802,23)),Promise.resolve().then(n.t.bind(n,9350,23)),Promise.resolve().then(n.t.bind(n,8530,23)),Promise.resolve().then(n.t.bind(n,8921,23))},8583:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,6959,23)),Promise.resolve().then(n.t.bind(n,3875,23)),Promise.resolve().then(n.t.bind(n,8903,23)),Promise.resolve().then(n.t.bind(n,7174,23)),Promise.resolve().then(n.t.bind(n,4178,23)),Promise.resolve().then(n.t.bind(n,7190,23)),Promise.resolve().then(n.t.bind(n,1365,23))},7350:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var s=n(5512),r=n(8531),a=n.n(r),i=n(8009),o=n(9334),l=n(3567),d=n(8055);function c(){let e=(0,o.useRouter)(),[t,n]=(0,i.useState)(""),[r,c]=(0,i.useState)(""),[u,p]=(0,i.useState)([]),[h,m]=(0,i.useState)([]),[x,f]=(0,i.useState)("Nuevo Centro"),[v,b]=(0,i.useState)("nuevo-centro"),[g,j]=(0,i.useState)("Listo"),P=(0,i.useMemo)(()=>u.find(e=>String(e.id)===r),[u,r]);async function N(e=t){try{let[t,n]=await Promise.all([(0,l.A)("/tenants",{token:e}),(0,l.A)("/memberships",{token:e})]);p(t),m(n),j("Tenants actualizados")}catch(e){j(`Error: ${e.message}`)}}async function y(){try{let e=await (0,l.A)("/tenants",{method:"POST",token:t,body:{name:x,slug:v,plan:"starter",is_active:!0}});c(String(e.id)),(0,d.dM)(String(e.id)),await N(),j(`Tenant creado: ${e.name}`)}catch(e){j(`Error creando tenant: ${e.message}`)}}return(0,s.jsxs)("main",{children:[(0,s.jsx)("div",{className:"brand",children:"NILA"}),(0,s.jsx)("div",{className:"brandTag",children:"Strategy \xb7 Technology \xb7 Execution"}),(0,s.jsx)("h1",{className:"sectionTitle",children:"Gestion Multi-tenant"}),(0,s.jsxs)("section",{className:"card",children:[(0,s.jsx)("h2",{children:"Nuevo tenant"}),(0,s.jsxs)("div",{className:"formGrid",children:[(0,s.jsx)("input",{className:"input",value:x,onChange:e=>f(e.target.value),placeholder:"Nombre empresa"}),(0,s.jsx)("input",{className:"input",value:v,onChange:e=>b(e.target.value),placeholder:"Slug unico"}),(0,s.jsx)("button",{className:"linkBtn",onClick:y,children:"Crear tenant"})]})]}),(0,s.jsxs)("div",{className:"grid",children:[(0,s.jsxs)("section",{className:"card",children:[(0,s.jsx)("h2",{children:"Tenant activo"}),P?(0,s.jsxs)("p",{children:[P.name," (",P.slug,")"]}):(0,s.jsx)("p",{children:"Sin tenant seleccionado."})]}),(0,s.jsxs)("section",{className:"card",children:[(0,s.jsx)("h2",{children:"Mis memberships"}),(0,s.jsx)("ul",{className:"list",children:h.map(e=>(0,s.jsxs)("li",{children:["tenant #",e.tenant," - rol: ",e.role]},e.id))})]})]}),(0,s.jsxs)("section",{className:"card",children:[(0,s.jsx)("h2",{children:"Tenants disponibles"}),(0,s.jsx)("ul",{className:"list",children:u.map(e=>(0,s.jsxs)("li",{children:[e.id," - ",e.name," (",e.slug,")",(0,s.jsx)("button",{className:"mutedBtn",style:{marginLeft:8},onClick:()=>(function(e){let t=String(e);c(t),(0,d.dM)(t),j(`Tenant activo: ${t}`)})(e.id),children:"Usar"})]},e.id))})]}),(0,s.jsxs)("div",{className:"linkRow",children:[(0,s.jsx)("button",{className:"linkBtn",onClick:()=>N(),children:"Refrescar"}),(0,s.jsx)(a(),{className:"mutedBtn",href:"/professional/dashboard",children:"Volver dashboard"}),(0,s.jsx)("button",{className:"mutedBtn",onClick:function(){(0,d.q7)(),e.push("/login")},children:"Cerrar sesion"})]}),(0,s.jsx)("pre",{className:"pre",children:g})]})}},3567:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,e:()=>i});let s="/api";async function r(e,t){let n=e.length>1&&e.endsWith("/")?e.slice(0,-1):e,r=[`${s}${n}`,`${s}${n}/`];for(let e=0;e<r.length;e+=1)try{let n=await fetch(r[e],t);if(404!==n.status||e===r.length-1)return n}catch{if(e===r.length-1)throw Error("Network error while contacting API")}throw Error("Unexpected API routing state")}async function a(e,t={}){let n={};t.token&&(n.Authorization=`Bearer ${t.token}`),t.tenantId&&(n["X-Tenant-ID"]=t.tenantId),void 0!==t.body&&(n["Content-Type"]="application/json");let s=await r(e,{method:t.method||"GET",headers:n,body:void 0!==t.body?JSON.stringify(t.body):void 0});if(!s.ok){let e=await s.text();throw Error(`${s.status} ${s.statusText} :: ${e}`)}return 204===s.status?{}:s.json()}function i(){return s}},8055:(e,t,n)=>{"use strict";function s(){return{token:"",tenantId:""}}function r(e,t=!0){}function a(e){}function i(){}n.d(t,{E1:()=>r,Ht:()=>s,dM:()=>a,q7:()=>i})},9334:(e,t,n)=>{"use strict";var s=n(8686);n.o(s,"useRouter")&&n.d(t,{useRouter:function(){return s.useRouter}})},9611:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a,metadata:()=>r});var s=n(2740);n(2704);let r={title:"NILA Platform",description:"Plataforma operativa para clientes y profesionales"};function a({children:e}){return(0,s.jsx)("html",{lang:"es",children:(0,s.jsx)("body",{children:e})})}},5930:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});let s=(0,n(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/app/app/professional/tenants/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/app/app/professional/tenants/page.tsx","default")},2704:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),s=t.X(0,[403,531],()=>n(4753));module.exports=s})();