(()=>{var e={};e.id=135,e.ids=[135],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},8303:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>u,tree:()=>l});var r=s(260),n=s(8203),o=s(5155),i=s.n(o),a=s(7292),d={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>a[e]);s.d(t,d);let l=["",{children:["professional",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6935)),"/app/app/professional/dashboard/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9611)),"/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,1485,23)),"next/dist/client/components/unauthorized-error"]}],c=["/app/app/professional/dashboard/page.tsx"],h={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/professional/dashboard/page",pathname:"/professional/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},1858:()=>{},6362:()=>{},6620:(e,t,s)=>{Promise.resolve().then(s.bind(s,6935))},3468:(e,t,s)=>{Promise.resolve().then(s.bind(s,9091))},8335:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,3219,23)),Promise.resolve().then(s.t.bind(s,4863,23)),Promise.resolve().then(s.t.bind(s,5155,23)),Promise.resolve().then(s.t.bind(s,802,23)),Promise.resolve().then(s.t.bind(s,9350,23)),Promise.resolve().then(s.t.bind(s,8530,23)),Promise.resolve().then(s.t.bind(s,8921,23))},8583:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6959,23)),Promise.resolve().then(s.t.bind(s,3875,23)),Promise.resolve().then(s.t.bind(s,8903,23)),Promise.resolve().then(s.t.bind(s,7174,23)),Promise.resolve().then(s.t.bind(s,4178,23)),Promise.resolve().then(s.t.bind(s,7190,23)),Promise.resolve().then(s.t.bind(s,1365,23))},9091:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(5512),n=s(8531),o=s.n(n),i=s(8009),a=s(9334),d=s(3567),l=s(8055);function c(){let e=(0,a.useRouter)(),[t,s]=(0,i.useState)(""),[n,c]=(0,i.useState)(""),[h,u]=(0,i.useState)([]),[p,m]=(0,i.useState)([]),[x,f]=(0,i.useState)([]),[b,j]=(0,i.useState)([]),[v,g]=(0,i.useState)([]),[P,A]=(0,i.useState)([]),[N,y]=(0,i.useState)(null),[S,k]=(0,i.useState)("Listo"),R=(0,i.useMemo)(()=>v.filter(e=>"in"===e.type).reduce((e,t)=>e+Number(t.amount),0),[v]);async function _(e=t,s=n){try{let[t,r,n,o,i,a,l]=await Promise.all([(0,d.A)("/appointments",{token:e,tenantId:s}),(0,d.A)("/clients",{token:e,tenantId:s}),(0,d.A)("/services",{token:e,tenantId:s}),(0,d.A)("/orders",{token:e,tenantId:s}),(0,d.A)("/cash-movements",{token:e,tenantId:s}),(0,d.A)("/invoices",{token:e,tenantId:s}),(0,d.A)("/orders/financial-summary",{token:e,tenantId:s})]);u(t),m(r),f(n),j(o),g(i),A(a),y(l),k("Panel actualizado")}catch(e){k(`Error: ${e.message}`)}}return(0,r.jsxs)("main",{children:[(0,r.jsx)("div",{className:"brand",children:"NILA"}),(0,r.jsx)("div",{className:"brandTag",children:"Strategy \xb7 Technology \xb7 Execution"}),(0,r.jsx)("h1",{className:"sectionTitle",children:"Panel Profesional"}),(0,r.jsxs)("div",{className:"grid",children:[(0,r.jsxs)("section",{className:"card",children:[(0,r.jsx)("h2",{children:"Agenda"}),(0,r.jsxs)("p",{children:[h.length," turnos totales"]})]}),(0,r.jsxs)("section",{className:"card",children:[(0,r.jsx)("h2",{children:"Clientes"}),(0,r.jsxs)("p",{children:[p.length," clientes activos"]})]}),(0,r.jsxs)("section",{className:"card",children:[(0,r.jsx)("h2",{children:"Servicios"}),(0,r.jsxs)("p",{children:[x.length," servicios publicados"]})]}),(0,r.jsxs)("section",{className:"card",children:[(0,r.jsx)("h2",{children:"POS"}),(0,r.jsxs)("p",{children:["Ingresos registrados: ARS ",R.toLocaleString("es-AR")]})]}),(0,r.jsxs)("section",{className:"card",children:[(0,r.jsx)("h2",{children:"Ordenes"}),(0,r.jsxs)("p",{children:[b.length," ordenes | pagadas: ",b.filter(e=>"paid"===e.status).length]})]}),(0,r.jsxs)("section",{className:"card",children:[(0,r.jsx)("h2",{children:"Facturas"}),(0,r.jsxs)("p",{children:[P.length," emitidas"]})]})]}),(0,r.jsxs)("section",{className:"card",style:{marginTop:12},children:[(0,r.jsx)("h2",{children:"Resumen Financiero"}),N?(0,r.jsxs)("div",{className:"grid",style:{marginTop:6},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Ordenes"}),(0,r.jsx)("br",{}),N.orders_count]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Total ordenes"}),(0,r.jsx)("br",{}),"ARS ",Number(N.orders_total).toLocaleString("es-AR")]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Total cobrado"}),(0,r.jsx)("br",{}),"ARS ",Number(N.payments_total).toLocaleString("es-AR")]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Total facturado"}),(0,r.jsx)("br",{}),"ARS ",Number(N.invoices_total).toLocaleString("es-AR")]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Pendiente"}),(0,r.jsx)("br",{}),"ARS ",Number(N.pending_amount).toLocaleString("es-AR")]})]}):(0,r.jsx)("p",{className:"small",children:"Sin datos"})]}),(0,r.jsxs)("div",{className:"linkRow",children:[(0,r.jsx)("button",{className:"linkBtn",onClick:()=>_(),children:"Refrescar"}),(0,r.jsx)(o(),{className:"mutedBtn",href:"/professional/workspace",children:"Abrir operaciones"}),(0,r.jsx)(o(),{className:"mutedBtn",href:"/professional/tenants",children:"Gestion tenant"}),(0,r.jsx)("button",{className:"mutedBtn",onClick:function(){(0,l.q7)(),e.push("/login")},children:"Cerrar sesion"})]}),(0,r.jsx)("pre",{className:"pre",children:S})]})}},3567:(e,t,s)=>{"use strict";s.d(t,{A:()=>o,e:()=>i});let r="/api";async function n(e,t){let s=e.length>1&&e.endsWith("/")?e.slice(0,-1):e,n=[`${r}${s}`,`${r}${s}/`];for(let e=0;e<n.length;e+=1)try{let s=await fetch(n[e],t);if(404!==s.status||e===n.length-1)return s}catch{if(e===n.length-1)throw Error("Network error while contacting API")}throw Error("Unexpected API routing state")}async function o(e,t={}){let s={};t.token&&(s.Authorization=`Bearer ${t.token}`),t.tenantId&&(s["X-Tenant-ID"]=t.tenantId),void 0!==t.body&&(s["Content-Type"]="application/json");let r=await n(e,{method:t.method||"GET",headers:s,body:void 0!==t.body?JSON.stringify(t.body):void 0});if(!r.ok){let e=await r.text();throw Error(`${r.status} ${r.statusText} :: ${e}`)}return 204===r.status?{}:r.json()}function i(){return r}},8055:(e,t,s)=>{"use strict";function r(){return{token:"",tenantId:""}}function n(e,t=!0){}function o(e){}function i(){}s.d(t,{E1:()=>n,Ht:()=>r,dM:()=>o,q7:()=>i})},9334:(e,t,s)=>{"use strict";var r=s(8686);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},9611:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,metadata:()=>n});var r=s(2740);s(2704);let n={title:"NILA Platform",description:"Plataforma operativa para clientes y profesionales"};function o({children:e}){return(0,r.jsx)("html",{lang:"es",children:(0,r.jsx)("body",{children:e})})}},6935:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/app/app/professional/dashboard/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/app/app/professional/dashboard/page.tsx","default")},2704:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[403,531],()=>s(8303));module.exports=r})();